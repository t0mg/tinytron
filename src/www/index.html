<!DOCTYPE html>
<html>
<head>
  <title>ESP32-MiniTV Video Streamer</title>
  <style>
    body {
      font-family: sans-serif;
    }

    #video {
      width: 640px;
    }

    #previewImage {
      display: block;
    }

    .controls {
      margin: 10px 0;
    }

    .controls label {
      margin-right: 10px;
    }

    #stats {
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <h1>ESP32-MiniTV Video Streamer</h1>
  <p>Select a video file to stream.</p>
  <input type="file" id="videoFile" accept="video/*">
  <button id="startButton">Start Streaming</button>
  <button id="stopButton">Stop Streaming</button>

  <div class="controls">
    <div>
      <label for="scaleFactor">Scale:</label>
      <select id="scaleFactor">
        <option value="1">1x (240x280)</option>
        <option value="0.5">0.5x (120x140)</option>
      </select>
    </div>
    <div>
      <label for="jpegQuality">JPEG Quality:</label>
      <input type="range" id="jpegQuality" min="0.1" max="1.0" step="0.05" value="0.5">
    </div>
    <div>
      <label for="scalingMode">Scaling:</label>
      <select id="scalingMode">
        <option value="letterbox">Letterbox</option>
        <option value="crop">Crop</option>
        <option value="stretch">Stretch</option>
      </select>
    </div>
    <div>
      <label for="brightness">Brightness:</label>
      <input type="range" id="brightness" min="1" max="255" value="255">
    </div>
  </div>

  <div id="stats">
    <span>FPS: <span id="fpsDisplay">-</span></span><br>
    <span>Frame Size: <span id="frameSizeDisplay">-</span> bytes</span><br>
    <span>Battery Voltage: <span id="batteryVoltageDisplay">-</span> V</span>
  </div>

  <br>
  <video id="video" controls loop style="width: 640px;"></video>
  <img id="previewImage" alt="JPEG Preview">

  <footer><a href="/wifi">Wifi settings</a></footer>

  <script src="app.js"></script>
</body>

</html>