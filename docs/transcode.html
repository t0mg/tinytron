<!DOCTYPE html>
<html>

<head>
  <title>Tinytron transcoder ðŸ“¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>&#128250;</text></svg>">
  <link rel="stylesheet" href="https://fonts.xz.style/serve/inter.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.2/new.min.css">
  <style>
    pre {
      max-height: 300px;
      white-space: break-spaces;
    }

    progress {
      width: 100%;
      height: 20px;
    }

    p.flex {
      display: flex;
      gap: 10px;
      justify-content: space-evenly;
      align-items: center;
      flex-wrap: wrap;
    }
  </style>
</head>

<body>
  <a href="index.html">&larr; Back to Tinytron project</a>
  <h1>Tinytron transcoder ðŸ“¼</h1>

  <p>This tool is part of the <a href="index.html">Tinytron project</a> and transcodes video files (locally) into the
    MJPEG AVI format the device expects. Please be aware that the output file size is limited to 2GB. For larger files
    or much faster conversions, we recommend using the command-line version of <a href="https://ffmpeg.org/">ffmpeg</a>
    directly.</p>

  <p class="flex">
    <label for="videoFile">Select a video file to transcode</label>
    <input type="file" id="transcodeVideoFile" accept="video/*">
    <button id="transcodeButton" disabled>ðŸ“¼ Transcode</button>
    <button id="cancelButton" disabled>ðŸ›‘ Cancel</button>
  </p>
  <progress id="transcodeProgress" value="0" max="100" style="display: none;"></progress>
  <pre id="transcodeStatus"></pre>
  <a id="downloadLink" style="display: none;">Download Transcoded File</a>

  <script src="coi-serviceworker.min.js"></script>
  <script type="module" src="transcode.js"></script>
</body>

</html>
